<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Crawler Control Panel</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="lang-switch">
        <button id="langToggle" onclick="toggleLanguage()">English</button>
    </div>
    
    <div class="container">
        <h1 id="title">Web 爬蟲控制面板</h1>
        
        <div class="form-group">
            <label id="startUrlLabel" for="startUrl">起始網址：</label>
            <input type="url" id="startUrl" placeholder="https://example.com" required>
        </div>
        
        <div class="form-group">
            <label id="baseDomainLabel" for="baseDomain">網域：</label>
            <input type="text" id="baseDomain" disabled>
        </div>
        
        <div class="form-group">
            <label id="urlPatternLabel" for="urlPattern">限定規則：</label>
            <div style="display: flex; align-items: center; margin-bottom: 8px;">
                <input type="text" id="urlPattern" placeholder=".*" value=".*" style="flex-grow: 1; margin-right: 10px;">
                <div class="pattern-type">
                    <label><input type="radio" name="patternType" value="contains" checked> <span id="containsLabel">包含</span></label>
                    <label><input type="radio" name="patternType" value="regex"> <span id="regexLabel">正則表達式</span></label>
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label id="testUrlLabel" for="testUrl">測試網址：</label>
            <div style="display: flex;">
                <input type="url" id="testUrl" placeholder="https://example.com/test" style="flex-grow: 1; margin-right: 10px;">
                <button id="testUrlBtn" onclick="testUrlPattern()">測試</button>
            </div>
            <p id="testResult" class="test-result"></p>
        </div>
        
        <div class="form-group">
            <label id="outputDirLabel" for="outputDir">輸出資料夾：</label>
            <div style="display: flex;">
                <input type="text" id="outputDir" disabled style="flex-grow: 1; margin-right: 10px;">
                <button id="chooseFolder" onclick="chooseOutputFolder()">選擇資料夾</button>
            </div>
        </div>
        
        <div class="form-group">
            <label id="fileFormatLabel" for="fileFormat">檔案格式：</label>
            <div class="format-type">
                <label><input type="radio" name="fileFormat" value="markdown" checked> <span id="markdownLabel">Markdown</span></label>
                <label><input type="radio" name="fileFormat" value="html"> <span id="htmlLabel">HTML</span></label>
            </div>
        </div>
        
        <div class="button-group">
            <button id="startCrawl" onclick="startCrawling()">開始爬蟲</button>
            <button id="refreshConfig" onclick="refreshConfiguration()">刷新配置</button>
        </div>
        
        <div id="status">
            <p id="statusText">準備就緒，請設定參數並開始爬蟲。</p>
        </div>
        
        <div>
            <h3 id="visitedLinksTitle">已爬取網址列表</h3>
            <div id="visitedLinks"></div>
        </div>
    </div>

    <!-- JavaScript Files -->
    <script src="js/translations.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/configManager.js"></script>
    <script src="js/crawlerClient.js"></script>
</body>
</html>
